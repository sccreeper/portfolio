{%import "components/postlink.j2" as postlink%}

<title hx-swap-oob="outerHTML:title">Posts - Oscar Peace</title>

<b>{{count}} posts</b>

<div class="float-right">

    <b>Feeds: </b>

    <a class="no-underline" href="/feeds/rss" title="RSS" download><i class="bi bi-rss text-orange-600 dark:text-orange-400"></i> RSS</a>
    <a class="no-underline" href="/feeds/atom" title="Atom" download><i class="bi bi-circle-fill text-sky-600 dark:text-sky-400"></i> Atom</a>
    <a class="no-underline" href="/feeds/json" title="JSON Feed" download><i class="bi bi-braces text-lime-800 dark:text-lime-400"></i> JSON</a>

</div>

<br>

<form hx-get="/posts" hx-target="#content-block" hx-push-url="true">

    {{ form.prop.label }}
    {{ form.prop() }}

    {{ form.dir.label }}
    {{ form.dir() }}

    {{ form.query.label }}
    {{ form.query() }}

    <button type="submit">Apply</button>

</form>

{% for post in posts %}

{{postlink.post_link(
    post.title,
    post.published,
    post.summary,
    post.slug
)}}

{% endfor %}